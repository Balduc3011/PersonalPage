(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1077:function(e,t,r){var content=r(1376);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(82).default)("6d370160",content,!0,{sourceMap:!1})},1371:function(e,t,r){!function(e,t,r,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o,a=i(t),u=i(r),c=i(n);!function(e){e.HK4E_GLOBAL="hk4e_global",e.HKRPG_GLOBAL="hkrpg_global",e.NAP_GLOBAL="nap_global",e.BH3_GLOBAL="bh3_global",e.BH3_EUR="bh3_eur",e.BH3_USA="bh3_usa",e.BH3_OA="bh3_os",e.BH3_ASIA="bh3_asia",e.BH3_KR="bh3_kr",e.BH3_JP="bh3_jp"}(o||(o={}));const l={[o.HK4E_GLOBAL]:"hk4e-global",[o.HKRPG_GLOBAL]:"hkrpg-global",[o.NAP_GLOBAL]:"nap-global",[o.BH3_GLOBAL]:"bh3-global",[o.BH3_EUR]:"bh3-eur",[o.BH3_USA]:"bh3-usa",[o.BH3_OA]:"bh3-oa",[o.BH3_ASIA]:"bh3-asia",[o.BH3_KR]:"bh3-kr",[o.BH3_JP]:"bh3-jp"};e.default=function(e){var t,r;const{appid:n,biz:i,isPlat:o=!0}=e,_=a.default.getUuid(),{userAgent:b}=navigator,p=e.utmSource||function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href).match(/[?&]utm_source=([^&#]+)/);return e&&e[1]?decodeURIComponent(e[1]):null}(),d=(new Date).getTime();if(!n||!i)return void console.warn("[@hyv/deeplink] 缺少appid或biz参数");if(!l[i])return void console.warn("[@hyv/deeplink] 非法参数biz");p||console.warn("[@hyv/deeplink] url缺少utm_source参数");const f=u.default(`uuid=${_}&ua=${b}&utm_source=${p}&appid=${n}&time=${d}`).toString().substring(8,24);null===(t=c.default.prototype.$mia)||void 0===t||t.trackEvent("create_md5","","",f,{md5_create_time:d}),null===(r=c.default.prototype.$ga)||void 0===r||r.trackEvent("create_md5","","",f),window.location.href=o?`HYP-global://launchgame?gamebiz=${i}&uapc_md5=${f}`:`${l[i]}:\\\\uapc_md5=${f}`},Object.defineProperty(e,"__esModule",{value:!0})}(t,r(1372),r(1373),r(3))},1372:function(e,t,r){var n;"undefined"!=typeof self&&self,e.exports=(n=r(105),function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r(1))&&n.__esModule?n:{default:n};function u(e){if(window.location.host.indexOf(".mihoyo.com")>-1)i.default.set("_MHYUUID",e,{domain:".mihoyo.com",path:"/",expires:365});else if(window.location.host.indexOf(".hoyolab.com")>-1)i.default.set("_MHYUUID",e,{domain:".hoyolab.com",path:"/",expires:365});else{var t=window.location.hostname.split(".").slice(-2).join(".");i.default.set("_MHYUUID",e,{domain:"."+t,path:"/",expires:365})}}t.default={getVisitorId:function(){var e=this;return new Promise((function(t){t(e.getUuid())}))},getUuid:function(){var e=i.default.get("_MHYUUID");return e?(u(e),e):(u(e=function(){if(window.crypto&&window.crypto.randomUUID)return window.crypto.randomUUID();if(window.crypto&&window.crypto.getRandomValues){var e=new Uint8Array(16);window.crypto.getRandomValues(e),e[6]&=15,e[6]|=64,e[8]&=63,e[8]|=128;var t=Array.prototype.map.call(e,(function(e){return("0"+e.toString(16)).slice(-2)})).join("");return t.substr(0,8)+"-"+t.substr(8,4)+"-4"+t.substr(12,3)+"-"+t.substr(15,4)+"-"+t.substr(19,12)}var r=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(r+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"===e?t:3&t|8).toString(16)}))}()),e)}}},function(e,t){e.exports=n}]).default)},1373:function(e,t,r){var n;!function(o){"use strict";function c(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function l(q,a,b,e,s,t){return c((r=c(c(a,q),c(e,t)))<<(n=s)|r>>>32-n,b);var r,n}function _(a,b,e,t,r,s,n){return l(b&e|~b&t,a,b,r,s,n)}function d(a,b,e,t,r,s,n){return l(b&t|e&~t,a,b,r,s,n)}function f(a,b,e,t,r,s,n){return l(b^e^t,a,b,r,s,n)}function h(a,b,e,t,r,s,n){return l(e^(b|~t),a,b,r,s,n)}function m(e,t){var i,r,n,o,l;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var a=1732584193,b=-271733879,m=-1732584194,v=271733878;for(i=0;i<e.length;i+=16)r=a,n=b,o=m,l=v,a=_(a,b,m,v,e[i],7,-680876936),v=_(v,a,b,m,e[i+1],12,-389564586),m=_(m,v,a,b,e[i+2],17,606105819),b=_(b,m,v,a,e[i+3],22,-1044525330),a=_(a,b,m,v,e[i+4],7,-176418897),v=_(v,a,b,m,e[i+5],12,1200080426),m=_(m,v,a,b,e[i+6],17,-1473231341),b=_(b,m,v,a,e[i+7],22,-45705983),a=_(a,b,m,v,e[i+8],7,1770035416),v=_(v,a,b,m,e[i+9],12,-1958414417),m=_(m,v,a,b,e[i+10],17,-42063),b=_(b,m,v,a,e[i+11],22,-1990404162),a=_(a,b,m,v,e[i+12],7,1804603682),v=_(v,a,b,m,e[i+13],12,-40341101),m=_(m,v,a,b,e[i+14],17,-1502002290),a=d(a,b=_(b,m,v,a,e[i+15],22,1236535329),m,v,e[i+1],5,-165796510),v=d(v,a,b,m,e[i+6],9,-1069501632),m=d(m,v,a,b,e[i+11],14,643717713),b=d(b,m,v,a,e[i],20,-373897302),a=d(a,b,m,v,e[i+5],5,-701558691),v=d(v,a,b,m,e[i+10],9,38016083),m=d(m,v,a,b,e[i+15],14,-660478335),b=d(b,m,v,a,e[i+4],20,-405537848),a=d(a,b,m,v,e[i+9],5,568446438),v=d(v,a,b,m,e[i+14],9,-1019803690),m=d(m,v,a,b,e[i+3],14,-187363961),b=d(b,m,v,a,e[i+8],20,1163531501),a=d(a,b,m,v,e[i+13],5,-1444681467),v=d(v,a,b,m,e[i+2],9,-51403784),m=d(m,v,a,b,e[i+7],14,1735328473),a=f(a,b=d(b,m,v,a,e[i+12],20,-1926607734),m,v,e[i+5],4,-378558),v=f(v,a,b,m,e[i+8],11,-2022574463),m=f(m,v,a,b,e[i+11],16,1839030562),b=f(b,m,v,a,e[i+14],23,-35309556),a=f(a,b,m,v,e[i+1],4,-1530992060),v=f(v,a,b,m,e[i+4],11,1272893353),m=f(m,v,a,b,e[i+7],16,-155497632),b=f(b,m,v,a,e[i+10],23,-1094730640),a=f(a,b,m,v,e[i+13],4,681279174),v=f(v,a,b,m,e[i],11,-358537222),m=f(m,v,a,b,e[i+3],16,-722521979),b=f(b,m,v,a,e[i+6],23,76029189),a=f(a,b,m,v,e[i+9],4,-640364487),v=f(v,a,b,m,e[i+12],11,-421815835),m=f(m,v,a,b,e[i+15],16,530742520),a=h(a,b=f(b,m,v,a,e[i+2],23,-995338651),m,v,e[i],6,-198630844),v=h(v,a,b,m,e[i+7],10,1126891415),m=h(m,v,a,b,e[i+14],15,-1416354905),b=h(b,m,v,a,e[i+5],21,-57434055),a=h(a,b,m,v,e[i+12],6,1700485571),v=h(v,a,b,m,e[i+3],10,-1894986606),m=h(m,v,a,b,e[i+10],15,-1051523),b=h(b,m,v,a,e[i+1],21,-2054922799),a=h(a,b,m,v,e[i+8],6,1873313359),v=h(v,a,b,m,e[i+15],10,-30611744),m=h(m,v,a,b,e[i+6],15,-1560198380),b=h(b,m,v,a,e[i+13],21,1309151649),a=h(a,b,m,v,e[i+4],6,-145523070),v=h(v,a,b,m,e[i+11],10,-1120210379),m=h(m,v,a,b,e[i+2],15,718787259),b=h(b,m,v,a,e[i+9],21,-343485551),a=c(a,r),b=c(b,n),m=c(m,o),v=c(v,l);return[a,b,m,v]}function v(input){var i,output="",e=32*input.length;for(i=0;i<e;i+=8)output+=String.fromCharCode(input[i>>5]>>>i%32&255);return output}function y(input){var i,output=[];for(output[(input.length>>2)-1]=void 0,i=0;i<output.length;i+=1)output[i]=0;var e=8*input.length;for(i=0;i<e;i+=8)output[i>>5]|=(255&input.charCodeAt(i/8))<<i%32;return output}function k(input){var e,i,t="0123456789abcdef",output="";for(i=0;i<input.length;i+=1)e=input.charCodeAt(i),output+=t.charAt(e>>>4&15)+t.charAt(15&e);return output}function x(input){return unescape(encodeURIComponent(input))}function w(s){return function(s){return v(m(y(s),8*s.length))}(x(s))}function C(e,t){return function(e,data){var i,t,r=y(e),n=[],o=[];for(n[15]=o[15]=void 0,r.length>16&&(r=m(r,8*e.length)),i=0;i<16;i+=1)n[i]=909522486^r[i],o[i]=1549556828^r[i];return t=m(n.concat(y(data)),512+8*data.length),v(m(o.concat(t),640))}(x(e),x(t))}function O(e,t,r){return t?r?C(t,e):k(C(t,e)):r?w(e):k(w(e))}void 0===(n=function(){return O}.call(t,r,t,e))||(e.exports=n)}()},1374:function(e,t,r){(function(t){var r=NaN,n="[object Symbol]",o=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,_=/^0o[0-7]+$/i,d=parseInt,f="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,m=f||h||Function("return this")(),v=Object.prototype.toString,y=Math.max,k=Math.min,x=function(){return m.Date.now()};function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function C(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&v.call(e)==n}(e))return r;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var f=l.test(e);return f||_.test(e)?d(e.slice(2),f?2:8):c.test(e)?r:+e}e.exports=function(e,t,r){var n,o,c,l,_,d,f=0,h=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function O(time){var t=n,r=o;return n=o=void 0,f=time,l=e.apply(r,t)}function j(time){var e=time-d;return void 0===d||e>=t||e<0||m&&time-f>=c}function S(){var time=x();if(j(time))return E(time);_=setTimeout(S,function(time){var e=t-(time-d);return m?k(e,c-(time-f)):e}(time))}function E(time){return _=void 0,v&&n?O(time):(n=o=void 0,l)}function $(){var time=x(),e=j(time);if(n=arguments,o=this,d=time,e){if(void 0===_)return function(time){return f=time,_=setTimeout(S,t),h?O(time):l}(d);if(m)return _=setTimeout(S,t),O(d)}return void 0===_&&(_=setTimeout(S,t)),l}return t=C(t)||0,w(r)&&(h=!!r.leading,c=(m="maxWait"in r)?y(C(r.maxWait)||0,t):c,v="trailing"in r?!!r.trailing:v),$.cancel=function(){void 0!==_&&clearTimeout(_),f=0,n=d=o=_=void 0},$.flush=function(){return void 0===_?l:E(x())},$}}).call(this,r(37))},1375:function(e,t,r){"use strict";r(1077)},1376:function(e,t,r){var n=r(81),o=r(171),c=r(995),l=r(996),_=r(997),d=n(!1),f=o(c),h=o(l),m=o(_);d.push([e.i,'.cdkey__right{background:#fff;margin-left:11px;border-radius:4px}.cdkey__right__wrapper{height:100%;display:flex;flex-direction:column;position:relative}.cdkey__right__wrapper__active .cdkey__right__bottom__old{opacity:0 !important;position:relative;z-index:-1}.cdkey__right__wrapper__active .cdkey__right__bottom__new{left:0 !important;opacity:1 !important}.cdkey__right__top{box-sizing:border-box;padding:0 13px;display:flex;justify-content:space-between;width:100%;background:#FBF9F3;box-sizing:border-box;border-top-left-radius:4px;border-top-right-radius:4px;align-items:center}.cdkey__right__top__left{height:40px;display:flex;align-items:center;line-height:16px;font-size:14px;font-weight:bold;color:#444444}.cdkey__right__top__left svg{width:14px;height:14px;margin-right:6px}.cdkey__right__top__right{color:#9A9A98;line-height:18px;font-size:14px;font-weight:bold;cursor:pointer;display:flex;align-items:center}.cdkey__right__top__right img{width:12px;flex-shrink:0;margin-left:4px;position:relative;top:1px}.cdkey__right__bottom{flex:1;display:flex;flex-direction:column;background:#f5f3ee;transition:opacity 1s ease-in-out, left 1s ease-in-out}.cdkey__right__bottom__new{position:absolute;top:40px;left:100%;opacity:0}.cdkey__right__bottom__old{opacity:1}.cdkey__right__bottom__item{padding:7px 13px;transition:all .6s ease;background:#f5f3ee;position:relative}.cdkey__right__bottom__item__content{overflow:hidden;transition:all .6s ease;display:flex;margin:0 auto;width:438px;box-sizing:border-box;height:0px}.cdkey__right__bottom__item__content>div{padding-top:7px}.cdkey__right__bottom__item__content__left{flex:1;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis}.cdkey__right__bottom__item__content__left>p{line-height:18px;color:#40485A;font-size:14px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis}.cdkey__right__bottom__item__content__right{box-sizing:border-box;padding-left:8px}.cdkey__right__bottom__item__content__button{height:36px;background:#b79773;padding:0 18px;border-radius:4px;line-height:36px;color:#F3EDD8;font-weight:600;cursor:pointer;display:flex;justify-content:center;align-items:center;transition:background .3s ease}.cdkey__right__bottom__item__content__button:hover{background:#664d33}.cdkey__right__bottom__item__content__button>img{height:12px;display:block;position:relative;left:2px}.cdkey__right__bottom__item__active{background:#e4dfd9}.cdkey__right__bottom__item__active .cdkey__right__bottom__item__content{height:50px}.cdkey__right__bottom__item__img{border-radius:4px;width:100%;height:146px;background-repeat:no-repeat;background-size:cover;background-position:center}.cdkey-line{padding:45px 0 37px 0;width:426px}.cdkey-line>img{display:block;width:100%}.cdkey__wrap{padding:106px 0 40px;background:center/cover no-repeat;display:flex;justify-content:center}.cdkey__wrap *{overflow-wrap:break-word}.cdkey__user{display:flex;align-items:center;justify-content:flex-end;height:17px;font-size:16px;color:#C0A773;margin-bottom:15px}.cdkey__user svg{width:16px;height:16px;margin-right:5px}.cdkey__user-btn{cursor:pointer}.cdkey__icon-star{margin-right:7px;width:17px;height:17px}.cdkey__main{display:flex;flex-direction:column;align-items:center;padding:20px 0;width:784px;height:891px;background:url("https://fastcdn.hoyoverse.com/static-resource-v2/2024/03/20/ab8260b1bf214cd934b4c21436abb824_74980854380517132.png") center/cover no-repeat}.cdkey-form{width:100%;display:flex;justify-content:center;align-items:center}.cdkey-form>div{display:flex;flex-direction:column;align-items:center}.cdkey-desc{position:relative;width:426px;color:#4e4d4b}.cdkey-desc__title{margin-bottom:34px;text-align:center;line-height:25px;font-size:22px;font-weight:bold}.cdkey-desc__content{padding-right:24px;height:150px;font-size:16px;line-height:24px;overflow-y:auto}.cdkey-desc__content::-webkit-scrollbar{width:5px;background:#fff;border-radius:2.5px}.cdkey-desc__content::-webkit-scrollbar-thumb{background:#ddcdbf;border-radius:2.5px}.cdkey-desc__content::before{content:"";position:absolute;right:24px;bottom:-10px;left:-10px;z-index:1;height:40px;background:linear-gradient(to bottom, rgba(255,255,255,0) 0, rgba(243,240,236,0.5) 20px)}.cdkey-desc__content::after{content:"";display:block;height:25px}.cdkey-form__title{margin-top:40px;margin-bottom:20px;text-align:center;line-height:25px;font-size:22px;font-weight:bold;color:#4e4d4b}.cdkey-form__submit{display:block;margin-top:8px;width:280px;height:50px;font-size:22px;color:#f4c780;background:#393b40;border-radius:4px;cursor:pointer;outline:none;border:none;font-family:inherit}.cdkey-form__field{display:flex;align-items:flex-start;flex-direction:column}.cdkey-form__label-wrap{display:flex;align-items:center;justify-content:flex-start;min-height:38px}.cdkey-form__label{flex-shrink:0;text-align:right;line-height:19px;font-size:16px;color:#373534}.cdkey-form__label::before{content:"*";margin-right:4px;color:#ff2800;vertical-align:top}.cdkey-form__input{padding:0 14px;width:426px;height:42px;line-height:42px;border:1px solid #6d6d6d;border-radius:4px;font-size:18px;background:#fff}.cdkey-form__input::-moz-placeholder{color:#a6a6a6}.cdkey-form__input:-ms-input-placeholder{color:#a6a6a6}.cdkey-form__input::placeholder{color:#a6a6a6}.cdkey-form__input:disabled{cursor:default;background:#f0f0f0;border-color:#a6a6a6;color:#a6a6a6}.cdkey-form__input:-moz-read-only{cursor:default}.cdkey-form__input:read-only{cursor:default}.cdkey-form__error{padding:5px 10px 5px 0;min-height:30px;font-size:16px;line-height:20px;color:#f00;width:426px}.cdkey-form__error:not(:empty)::before{position:relative;top:1px;display:inline-block;vertical-align:top;margin-right:6px;content:"";width:16px;height:16px;background:url('+f+') center/cover no-repeat}.cdkey-select{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cdkey-select .cdkey-select__btn{padding:0 14px;width:426px;height:42px;line-height:42px;border:1px solid #6d6d6d;border-radius:4px;font-size:18px;background:#fff;position:relative;cursor:pointer}.cdkey-select .cdkey-select__btn::after{content:"";position:absolute;top:15px;right:15px;width:16px;height:8px;background:url('+h+") center/cover no-repeat}.cdkey-select .cdkey-select__menu{position:absolute;top:38px;left:0;right:0;z-index:1;background:#fff;border:1px solid #6d6d6d;border-top:none;border-radius:0 0 4px 4px}.cdkey-select .cdkey-select__option{padding:0 13px;height:38px;line-height:38px;font-size:18px;color:#a6a6a6;cursor:pointer;transition:0.2s}.cdkey-select .cdkey-select__option:hover{color:#000;background:#f5f5f5}.cdkey-select.cdkey-select--empty .cdkey-select__btn{color:#a6a6a6}.cdkey-select.cdkey-select--active .cdkey-select__btn{border-bottom:0;border-radius:4px 4px 0 0}.cdkey-select.cdkey-select--active .cdkey-select__btn::after{transform:rotate(180deg)}.cdkey-result__container{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;padding:0 30px 3px;height:100%;background:url("+m+") center/cover no-repeat}.cdkey-result__icon{flex-shrink:0;width:88px;height:88px}.cdkey-result__message{margin-top:25px;width:100%;overflow-wrap:break-word;color:#373533;font-size:24px;text-align:center}.cdkey-result__close{position:absolute;top:13px;right:14px;width:23px;height:23px;cursor:pointer}\n",""]),e.exports=d},1484:function(e,t,r){"use strict";r.r(t);r(62),r(58),r(54),r(74),r(75);var n=r(817),o=r(36),c=r(35),l=(r(116),r(147),r(282),r(146),r(145),r(100),r(829),r(117),r(55),r(118),r(168)),_=r(1371),d=r.n(_),f=r(21),h=r(76),m=r(416),v=r(816),y=r(912),k=r(1374),x=r.n(k),w=r(812),C=r(993);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var S=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href).match(/[?&]utm_source=([^&#]+)/);return e&&e[1]?decodeURIComponent(e[1]):null},E="hk4e_global",$="cdkey_region",L="1",M="3",B={components:{FooterBar:w.a,HeaderBar:v.a},asyncData:function(e){return Object(c.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.params.lang,n=e.query,o=/^[0-9A-Za-z]{1,30}$/.test(n.code||""),t.t0=r,t.t1=o?n.code:"",t.next=6,y.a.getBackgroundImage({lang:r,isMobile:!1});case 6:return t.t2=t.sent,t.abrupt("return",{lang:t.t0,code:t.t1,backgroundImage:t.t2});case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{wrapActive:!1,newsSpecialList:[],newsList:[],timer:null,downloadIns:null,regionOptions:[],texts:{},character:null,backgroundImage:"",region:"",code:"",regionError:null,characterError:null,codeError:null,submitting:!1,showSelectMenu:!1,characterFetching:!1,resultTimer:null,result:{type:"",message:""},newFlag:0}},computed:j(j({},Object(l.b)(["user"])),{},{downloadLang:function(){var e=this.$route.params.lang;return h.a.langMap[e]||"en-us"},regionSelectBtnText:function(){var e=this;return this.region&&this.regionOptions.length?this.regionOptions.find((function(t){return t.value===e.region})).label:this.texts.region_require},openGameText:function(){return this.$store.state.translate.time&&this.$store.state.translate.getLocaleText("cbkey_open_game")||"open game"},newsMore:function(){return this.$store.state.translate.time&&this.$store.state.translate.getLocaleText("home_news_more")||""},newsTitle:function(){return this.$store.state.translate.time&&this.$store.state.translate.getLocaleText("home_news_title")||""},goGame:function(){return"打开游戏"},characterText:function(){return this.character?this.character.nickname:this.characterFetching?this.texts.character_fetching:this.texts.character_default}}),watch:{user:{immediate:!0,handler:function(){if(this.resetError(),this.user){var e=Object(m.getLocalStorageCache)($)||"";e&&!f.cdkeyRegions.includes(e)&&(Object(m.removeLocalStorageCache)($),e=""),this.region=e,this.region&&this.fetchCharacter()}else this.character=null}}},mounted:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$trackEvent("Page","View","兑换码页",""),Object(C.d)((function(t){e.setNewsList("newsSpecialList",t.pc),setTimeout((function(){e.newFlag=0,e.wrapActive=!0}))})),t.prev=2,t.next=5,e.getLang();case 5:return t.next=7,e.setNewsList();case 7:e.$store.commit("setTranslate",j(j({},e.$miHoYoMi18n),{},{time:Date.now()})),e.initTexts(),e.initRegionOptions(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("err",t.t0),e.$nuxt.error({statusCode:404});case 16:e.getDownloadI18nInfo(),window.addEventListener("click",e.closeSelectMenu);case 18:case"end":return t.stop()}}),t,null,[[2,12]])})))()},beforeDestroy:function(){window.removeEventListener("click",this.closeSelectMenu)},methods:{setNewsList:function(){var e=arguments,t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"newsList",o=e.length>1?e[1]:void 0,r.next=4,y.a.getPcNews({lang:t.downloadLang,isMobile:!1,data:{channelId:o||Object(C.b)(Object(C.c)()).pc}});case 4:t[n]=r.sent,t.reportNewsInfo(t[n]);case 6:case"end":return r.stop()}}),r)})))()},reportNewsInfo:function(e){if(e.length){var t=e.map((function(e){return{id:e.id,title:e.reportTitle,person:Object(C.c)()?1:0}}));return this.$trackEvent("Session","Impression","news",JSON.stringify(t)),void this.$ga.trackEvent("Session","Impression","news",JSON.stringify(t))}this.$trackEvent("Session","Impression","news",JSON.stringify([])),this.$ga.trackEvent("Session","Impression","news",JSON.stringify([]))},getDownloadI18nInfo:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.$SeaDownload.DownloadCore,e.downloadIns=new r({type:"fab",lang:e.downloadLang,source:"525",gameBiz:"hk4e_global",useOnlineConfig:!0,pcType:"pop",layout:"horizontal",platMiaCallback:function(t){var r=t.category,n=t.action,label=t.label,o=t.value;e.$trackEvent(r,n,label,o),e.$ga.trackEvent(r,n,label,o)}});case 2:case"end":return t.stop()}}),t)})))()},handleNewButton:function(e){this.$trackEvent("Button","Click","news",JSON.stringify([{id:e.id,title:e.reportTitle,person:Object(C.c)()?1:0}])),this.$ga.trackEvent("Button","Click","news",JSON.stringify([{id:e.id,title:e.reportTitle,person:Object(C.c)()?1:0}]));var t=e||{},r=t.type,link=t.link;[L,M].includes(r)&&link?window.open(link,"_blank"):this.triggerDownload()},triggerDownload:x()((function(){console.log("triggerDownload"),d()({biz:"hk4e_global",appid:"525",isPlat:!0,utmSource:S()||"GenshinImpactOfficial"}),this.downloadApp()}),1e3,{leading:!0,trailing:!1}),downloadApp:function(){this.downloadIns?this.downloadIns.download():console.error("初始化下载组件失败！")},newMouseover:function(e){this.newFlag!==e&&(this.newFlag=e)},jumpToMoreNews:function(){this.$trackEvent("Button","Click","more_news",""),this.$ga.trackEvent("Button","Click","more_news","-"),this.$router.push("news")},showResult:function(e){this.result=e,this.$modal.show("cdkeyResult"),this.resultTimer=setTimeout(this.hideResult,2e3)},hideResult:function(){clearTimeout(this.resultTimer),this.$modal.hide("cdkeyResult")},resetError:function(){this.regionError=null,this.characterError=null,this.codeError=null},onRegionSelect:function(e){this.regionError=null,this.characterError=null,this.region=e,this.fetchCharacter()},onLogin:function(){var e=this;this.$trackEvent("Click","buttonClick","兑换码页-点击登录","1"),this.$showAccountFlow({uxMode:"popup",onLoginSuccess:function(t){var r=t.userInfo;e.$mia.userExtrainfo=1,e.$trackEvent("State","playerLogin","",JSON.stringify(r)),e.$ga.trackEvent("State","playerLogin","-",JSON.stringify(r)),e.$store.commit("setUser",r),Object(C.a)(r)},onError:function(e){e.retcode}})},onLogout:function(){var e=this;this.$trackEvent("Click","buttonClick","兑换码页-点击登录","2"),this.$trackEvent("State","playerLogout","",""),this.$ga.trackEvent("State","playerLogout","-","-"),this.$accountLogout().then((function(){e.$mia.userExtrainfo=4,e.$store.commit("setUser",null)}))},closeSelectMenu:function(){this.showSelectMenu=!1},initTexts:function(){var e=this,t=["redeem","desc_title","desc_content","code","character","region","submit","code_require","region_require","code_error","login","logout","character_default","character_fetching","character_error","character_login","character_require","role_empty_tip"].concat(Object(n.a)(f.cdkeyRegions));this.texts=t.reduce((function(t,r){return t[r]=e.$miHoYoMi18n.getLocaleText("cdkey_".concat(r)),t}),{})},initRegionOptions:function(){var e=this;this.regionOptions=f.cdkeyRegions.map((function(t){return{value:t,label:e.texts[t]||t}}))},checkRegion:function(){return this.regionError=this.region?null:this.texts.region_require,!this.regionError},checkCode:function(){return this.codeError=this.code?/^[0-9A-Za-z]{1,30}$/.test(this.code)?null:this.texts.code_error:this.texts.code_require,!this.codeError},onSelectBtnClick:function(){var e=!this.showSelectMenu;!e||this.user?this.showSelectMenu=e:this.onLogin()},onSubmit:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,l,_,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[e.checkCode(),e.checkRegion(),e.checkCharacter()],!e.submitting&&r.every(Boolean)){t.next=3;break}return t.abrupt("return");case 3:return n={logregion:e.region,code:e.code},e.$trackEvent("Click","buttonClick","兑换码页-点击兑换",JSON.stringify(n)),t.prev=5,e.submitting=!0,t.next=9,y.a.redeemCode({uid:e.character.game_uid,region:e.region,lang:e.lang,cdkey:e.code,game_biz:E});case 9:o=t.sent,c=o.msg,e.showResult({type:"success",message:c}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(5),l=t.t0||{},_=l.data,(d=(void 0===_?{}:_).message)&&e.showResult({type:"fail",message:d});case 18:return t.prev=18,e.submitting=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[5,14,18,21]])})))()},checkCharacter:function(){return this.user||(this.characterError=this.texts.character_login),!!this.character&&!this.characterError},fetchCharacter:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.region,e.character=null,e.characterError=null,t.prev=3,e.characterFetching=!0,t.next=7,Promise.race([y.a.getCharacter({lang:e.lang,region:r,game_biz:E}),new Promise((function(e,t){return setTimeout(t,5e3)}))]);case 7:n=t.sent,e.region===r&&(e.character=n.list&&n.list.length?n.list[0]:null,Object(m.setLocalStorageCache)($,e.region),!e.character&&e.texts.role_empty_tip&&(e.characterError=e.texts.role_empty_tip)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),o=t.t0||{},c=o.data,l=(void 0===c?{}:c).message,e.characterError=l||e.texts.character_error;case 15:return t.prev=15,e.characterFetching=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,11,15,18]])})))()}}},R=B,T=(r(1375),r(57)),component=Object(T.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cdkey"},[n("header-bar",{attrs:{"active-index":7}}),e._v(" "),n("div",{class:["cdkey__wrap",{cdkey__wrap__active:e.wrapActive}],style:"background-image: url("+e.backgroundImage+")"},[n("div",{staticClass:"cdkey__main"},[n("form",{staticClass:"cdkey-form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("div",[n("div",{staticClass:"cdkey-form__title"},[e._v(e._s(e.texts.redeem))]),e._v(" "),n("div",{staticClass:"cdkey__user"},[n("svg",{attrs:{id:"_图层_2",xmlns:"http://www.w3.org/2000/svg","data-name":"图层 2",viewBox:"0 0 691.25 691.61"}},[n("defs",[n("style",[e._v("\n                  .cls-1 {\n                  fill: #C0A773;\n                  stroke-width: 0px;\n                  }\n                ")])]),e._v(" "),n("g",{attrs:{id:"_图层_1-2","data-name":"图层 1"}},[n("path",{staticClass:"cls-1",attrs:{d:"M22.7,363.96c-30.29-10.47-30.27-27.5.09-37.83l171.36-58.38c30.36-10.33,63.65-43.71,73.96-74.18l57.84-170.69c10.33-30.45,27.41-30.52,37.92-.14l58.88,169.65c10.56,30.38,43.95,63.8,74.27,74.27l171.52,59.21c30.34,10.47,30.27,27.46-.11,37.72l-170.78,57.82c-30.38,10.29-63.74,43.59-74.11,74.02l-59.17,173.36c-10.35,30.43-27.28,30.41-37.56-.07l-57.48-170.62c-10.29-30.47-43.48-63.98-73.8-74.45l-172.82-59.71Z"}})])]),e._v(" "),e.user?n("div",[e._v("\n              "+e._s(e.shortName(e.user))+"\n              "),n("span",{staticClass:"cdkey__user-btn",on:{click:e.onLogout}},[e._v(e._s(e.texts.logout))])]):n("div",{staticClass:"cdkey__user-btn",on:{click:e.onLogin}},[e._v(e._s(e.texts.login))])]),e._v(" "),n("div",{staticClass:"cdkey-form__field"},[n("div",{staticClass:"cdkey-form__label-wrap"},[n("label",{staticClass:"cdkey-form__label",attrs:{for:"cdkey__region"}},[e._v(e._s(e.texts.region))])]),e._v(" "),n("div",{staticClass:"cdkey-form__input-wrap"},[n("div",{staticClass:"cdkey-select",class:{"cdkey-select--empty":!e.region,"cdkey-select--active":e.showSelectMenu},attrs:{id:"cdkey__region"}},[n("div",{staticClass:"cdkey-select__btn",on:{click:function(t){return t.stopPropagation(),e.onSelectBtnClick.apply(null,arguments)}}},[e._v("\n                  "+e._s(e.regionSelectBtnText)+"\n                ")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showSelectMenu,expression:"showSelectMenu"}],staticClass:"cdkey-select__menu"},e._l(e.regionOptions,(function(t){return n("div",{key:t.value,staticClass:"cdkey-select__option",on:{click:function(r){return e.onRegionSelect(t.value)}}},[e._v("\n                    "+e._s(t.label)+"\n                  ")])})),0)]),e._v(" "),n("div",{staticClass:"cdkey-form__error"},[e._v(e._s(e.regionError))])])]),e._v(" "),n("div",{staticClass:"cdkey-form__field"},[n("div",{staticClass:"cdkey-form__label-wrap"},[n("label",{staticClass:"cdkey-form__label",attrs:{for:"cdkey__character"}},[e._v(e._s(e.texts.character))])]),e._v(" "),n("div",{staticClass:"cdkey-form__input-wrap"},[n("input",{staticClass:"cdkey-form__input",attrs:{id:"cdkey__character",disabled:!e.character,readonly:!!e.character,type:"text"},domProps:{value:e.characterText}}),e._v(" "),n("div",{staticClass:"cdkey-form__error"},[e._v(e._s(e.characterError))])])]),e._v(" "),n("div",{staticClass:"cdkey-form__field"},[n("div",{staticClass:"cdkey-form__label-wrap"},[n("label",{staticClass:"cdkey-form__label",attrs:{for:"cdkey__code"}},[e._v(e._s(e.texts.code))])]),e._v(" "),n("div",{staticClass:"cdkey-form__input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.code,expression:"code",modifiers:{trim:!0}}],staticClass:"cdkey-form__input",attrs:{id:"cdkey__code",placeholder:e.texts.code_require,type:"text",autocomplete:"off"},domProps:{value:e.code},on:{focus:function(t){e.codeError=null},input:function(t){t.target.composing||(e.code=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),n("div",{staticClass:"cdkey-form__error"},[e._v(e._s(e.codeError))])])]),e._v(" "),n("button",{staticClass:"cdkey-form__submit",attrs:{type:"submit"}},[e._v(e._s(e.texts.submit))])])]),e._v(" "),e._m(0),e._v(" "),n("div",{staticClass:"cdkey-desc"},[n("div",{staticClass:"cdkey-desc__title"},[e._v(e._s(e.texts.desc_title))]),e._v(" "),n("div",{staticClass:"cdkey-desc__content",domProps:{innerHTML:e._s(e.texts.desc_content)}})])]),e._v(" "),e.newsList.length>0?n("div",{staticClass:"cdkey__right"},[n("div",{class:["cdkey__right__wrapper",{cdkey__right__wrapper__active:e.wrapActive}]},[n("div",{staticClass:"cdkey__right__top"},[n("div",{staticClass:"cdkey__right__top__left"},[n("svg",{attrs:{id:"_图层_2",xmlns:"http://www.w3.org/2000/svg","data-name":"图层 2",viewBox:"0 0 691.25 691.61"}},[n("defs",[n("style",[e._v("\n                  .cls-1 {\n                  fill: #C0A773;\n                  stroke-width: 0px;\n                  }\n                ")])]),e._v(" "),n("g",{attrs:{id:"_图层_1-2","data-name":"图层 1"}},[n("path",{staticClass:"cls-1",attrs:{d:"M22.7,363.96c-30.29-10.47-30.27-27.5.09-37.83l171.36-58.38c30.36-10.33,63.65-43.71,73.96-74.18l57.84-170.69c10.33-30.45,27.41-30.52,37.92-.14l58.88,169.65c10.56,30.38,43.95,63.8,74.27,74.27l171.52,59.21c30.34,10.47,30.27,27.46-.11,37.72l-170.78,57.82c-30.38,10.29-63.74,43.59-74.11,74.02l-59.17,173.36c-10.35,30.43-27.28,30.41-37.56-.07l-57.48-170.62c-10.29-30.47-43.48-63.98-73.8-74.45l-172.82-59.71Z"}})])]),e._v("\n\n            "+e._s(e.newsTitle)+"\n          ")]),e._v(" "),n("div",{staticClass:"cdkey__right__top__right",on:{click:e.jumpToMoreNews}},[e._v("\n            "+e._s(e.newsMore)+"\n            "),n("img",{attrs:{src:"https://fastcdn.hoyoverse.com/static-resource-v2/2024/03/27/233a2a799aabb684e808dd4e620124a6_441275790031368253.png"}})])]),e._v(" "),n("div",{staticClass:"cdkey__right__bottom cdkey__right__bottom__old"},e._l(e.newsList,(function(t,r){return n("div",{key:r,class:[{cdkey__right__bottom__item:!0,cdkey__right__bottom__item__active:e.newFlag===r}],on:{mouseover:function(){return e.newMouseover(r)}}},[n("div",{staticClass:"cdkey__right__bottom__item__img",style:{backgroundImage:"url('"+t.bg+"')"}}),e._v(" "),n("div",{staticClass:"cdkey__right__bottom__item__content"},[n("div",{staticClass:"cdkey__right__bottom__item__content__left"},[n("p",{domProps:{innerHTML:e._s(t.title)}})]),e._v(" "),n("div",{staticClass:"cdkey__right__bottom__item__content__right"},[n("div",{staticClass:"cdkey__right__bottom__item__content__button",on:{click:function(r){return e.handleNewButton(t)}}},["2"===t.type?[e._v("\n                    "+e._s(e.openGameText)+"\n                  ")]:e._e(),e._v(" "),"3"===t.type?[e._v("\n                    "+e._s(t.link_button_text)+"\n                  ")]:e._e(),e._v(" "),"1"===t.type?n("img",{attrs:{src:"https://fastcdn.hoyoverse.com/static-resource-v2/2024/03/21/882dcd6829a489afda8ba322eb982e7d_2051193489758981573.png"}}):e._e()],2)])])])})),0),e._v(" "),n("div",{staticClass:"cdkey__right__bottom cdkey__right__bottom__new"},e._l(e.newsSpecialList,(function(t,r){return n("div",{key:r,class:[{cdkey__right__bottom__item:!0,cdkey__right__bottom__item__active:e.newFlag===r}],on:{mouseover:function(){return e.newMouseover(r)}}},[n("div",{staticClass:"cdkey__right__bottom__item__img",style:{backgroundImage:"url('"+t.bg+"')"}}),e._v(" "),n("div",{staticClass:"cdkey__right__bottom__item__content"},[n("div",{staticClass:"cdkey__right__bottom__item__content__left"},[n("p",{domProps:{innerHTML:e._s(t.title)}})]),e._v(" "),n("div",{staticClass:"cdkey__right__bottom__item__content__right"},[n("div",{staticClass:"cdkey__right__bottom__item__content__button",on:{click:function(r){return e.handleNewButton(t)}}},["2"===t.type?[e._v("\n                    "+e._s(e.openGameText)+"\n                  ")]:e._e(),e._v(" "),"3"===t.type?[e._v("\n                    "+e._s(t.link_button_text)+"\n                  ")]:e._e(),e._v(" "),"1"===t.type?n("img",{attrs:{src:"https://fastcdn.hoyoverse.com/static-resource-v2/2024/03/21/882dcd6829a489afda8ba322eb982e7d_2051193489758981573.png"}}):e._e()],2)])])])})),0)])]):e._e()]),e._v(" "),n("no-ssr",[n("modal",{staticClass:"cdkey-result",attrs:{"click-to-close":!0,width:480,height:268,name:"cdkeyResult"}},[n("div",{staticClass:"cdkey-result__container"},[n("img",{staticClass:"cdkey-result__close",attrs:{src:r(990)},on:{click:e.hideResult}}),e._v(" "),"success"===e.result.type?n("img",{staticClass:"cdkey-result__icon",attrs:{src:r(991)}}):"fail"===e.result.type?n("img",{staticClass:"cdkey-result__icon",attrs:{src:r(992)}}):e._e(),e._v(" "),n("div",{staticClass:"cdkey-result__message"},[e._v(e._s(e.result.message))])])])],1),e._v(" "),n("footer-bar")],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cdkey-line"},[t("img",{attrs:{src:"https://fastcdn.hoyoverse.com/static-resource-v2/2024/03/20/d83c73df7df9931efa3c45ba04a3f3f1_8466311934160961627.png"}})])}],!1,null,null,null);t.default=component.exports}}]);